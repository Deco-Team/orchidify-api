{"version":3,"file":"view-payout-request.dto.js","sourceRoot":"/","sources":["payout-request/dto/view-payout-request.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA4E;AAC5E,uEAAgE;AAChE,4EAAkF;AAClF,qDAA4C;AAC5C,8DAAgE;AAChE,yDAA6C;AAC7C,oDAG+C;AAE/C,kFAAuE;AAEvE,MAAa,qBAAqB;CAuBjC;AAvBD,sDAuBC;AAVC;IAZC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE;YACJ,8BAAmB,CAAC,OAAO;YAC3B,8BAAmB,CAAC,QAAQ;YAC5B,8BAAmB,CAAC,QAAQ;YAC5B,8BAAmB,CAAC,OAAO;YAC3B,8BAAmB,CAAC,QAAQ;SAC7B;QACD,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;qDAC3C;AAO7B;IALC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IACtC,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;QACvB,OAAO,CAAC,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;IAC9D,CAAC,CAAC;;4DACoB;AAMxB,MAAM,2CAA4C,SAAQ,IAAA,kBAAQ,EAChE,8CAAoB,EACpB,yCAA8B,CAC/B;CAAG;AACJ,MAAM,uCAAwC,SAAQ,IAAA,kCAAgB,EAAC,2CAA2C,CAAC;CAAG;AACtH,MAAa,2CAA4C,SAAQ,IAAA,8BAAY,EAC3E,uCAAuC,CACxC;CAAG;AAFJ,kGAEI;AAEJ,MAAM,yCAA0C,SAAQ,IAAA,kBAAQ,EAC9D,8CAAoB,EACpB,2CAAgC,CACjC;CAAG;AACJ,MAAa,6CAA8C,SAAQ,IAAA,8BAAY,EAC7E,yCAAyC,CAC1C;CAAG;AAFJ,sGAEI;AAGJ,MAAM,yBAA0B,SAAQ,IAAA,kBAAQ,EAAC,uCAAiB,EAAE;IAClE,KAAK;IACL,MAAM;IACN,OAAO;IACP,OAAO;IACP,aAAa;IACb,QAAQ;IACR,aAAa;CACd,CAAC;CAAG;AAEL,MAAM,sCAAuC,SAAQ,IAAA,kBAAQ,EAAC,8CAAoB,EAAE,yCAA8B,CAAC;CAGlH;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,yBAAyB,EAAE,CAAC;;yEACJ;AAE/C,MAAM,kCAAmC,SAAQ,IAAA,kCAAgB,EAAC,sCAAsC,CAAC;CAAG;AAC5G,MAAa,sCAAuC,SAAQ,IAAA,8BAAY,EAAC,kCAAkC,CAAC;CAAG;AAA/G,wFAA+G;AAE/G,MAAM,oCAAqC,SAAQ,yCAAyC;CAG3F;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,yBAAyB,EAAE,CAAC;;uEACJ;AAE/C,MAAa,wCAAyC,SAAQ,IAAA,8BAAY,EAAC,oCAAoC,CAAC;CAAG;AAAnH,4FAAmH;AAEnH,MAAM,uBAAuB;CAS5B;AAPC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;wDACf;AAGf;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;sDACjB;AAGb;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;sDACjB;AAEf,MAAa,2BAA4B,SAAQ,IAAA,8BAAY,EAAC,uBAAuB,CAAC;CAAG;AAAzF,kEAAyF","sourcesContent":["import { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { BasePayoutRequestDto } from './base.payout-request.dto'\r\nimport { DataResponse, PaginateResponse } from '@common/contracts/openapi-builder'\r\nimport { IsOptional } from 'class-validator'\r\nimport { PayoutRequestStatus } from '@common/contracts/constant'\r\nimport { Transform } from 'class-transformer'\r\nimport {\r\n  PAYOUT_REQUEST_DETAIL_PROJECTION,\r\n  PAYOUT_REQUEST_LIST_PROJECTION\r\n} from '@src/payout-request/contracts/constant'\r\nimport { Types } from 'mongoose'\r\nimport { BaseInstructorDto } from '@instructor/dto/base.instructor.dto'\r\n\r\nexport class QueryPayoutRequestDto {\r\n  @ApiPropertyOptional({\r\n    enum: [\r\n      PayoutRequestStatus.PENDING,\r\n      PayoutRequestStatus.APPROVED,\r\n      PayoutRequestStatus.CANCELED,\r\n      PayoutRequestStatus.EXPIRED,\r\n      PayoutRequestStatus.REJECTED\r\n    ],\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  status: PayoutRequestStatus[]\r\n\r\n  @ApiPropertyOptional({ type: Boolean })\r\n  @IsOptional()\r\n  @Transform(({ value }) => {\r\n    return [true, 'enabled', 'true', 1, '1'].indexOf(value) > -1\r\n  })\r\n  hasMadePayout: boolean\r\n\r\n  createdBy: string\r\n}\r\n\r\n// Instructor\r\nclass InstructorViewPayoutRequestListItemResponse extends PickType(\r\n  BasePayoutRequestDto,\r\n  PAYOUT_REQUEST_LIST_PROJECTION\r\n) {}\r\nclass InstructorViewPayoutRequestListResponse extends PaginateResponse(InstructorViewPayoutRequestListItemResponse) {}\r\nexport class InstructorViewPayoutRequestListDataResponse extends DataResponse(\r\n  InstructorViewPayoutRequestListResponse\r\n) {}\r\n\r\nclass InstructorViewPayoutRequestDetailResponse extends PickType(\r\n  BasePayoutRequestDto,\r\n  PAYOUT_REQUEST_DETAIL_PROJECTION\r\n) {}\r\nexport class InstructorViewPayoutRequestDetailDataResponse extends DataResponse(\r\n  InstructorViewPayoutRequestDetailResponse\r\n) {}\r\n\r\n// Management\r\nclass PayoutRequestCreatedByDto extends PickType(BaseInstructorDto, [\r\n  '_id',\r\n  'name',\r\n  'phone',\r\n  'email',\r\n  'idCardPhoto',\r\n  'avatar',\r\n  'paymentInfo'\r\n]) {}\r\n\r\nclass StaffViewPayoutRequestListItemResponse extends PickType(BasePayoutRequestDto, PAYOUT_REQUEST_LIST_PROJECTION) {\r\n  @ApiProperty({ type: PayoutRequestCreatedByDto })\r\n  createdBy: Types.ObjectId | BaseInstructorDto\r\n}\r\nclass StaffViewPayoutRequestListResponse extends PaginateResponse(StaffViewPayoutRequestListItemResponse) {}\r\nexport class StaffViewPayoutRequestListDataResponse extends DataResponse(StaffViewPayoutRequestListResponse) {}\r\n\r\nclass StaffViewPayoutRequestDetailResponse extends InstructorViewPayoutRequestDetailResponse {\r\n  @ApiProperty({ type: PayoutRequestCreatedByDto })\r\n  createdBy: Types.ObjectId | BaseInstructorDto\r\n}\r\nexport class StaffViewPayoutRequestDetailDataResponse extends DataResponse(StaffViewPayoutRequestDetailResponse) {}\r\n\r\nclass ViewPayoutUsageResponse {\r\n  @ApiProperty({ type: Number })\r\n  balance: number\r\n\r\n  @ApiProperty({ type: Number })\r\n  usage: number\r\n\r\n  @ApiProperty({ type: Number })\r\n  count: number\r\n}\r\nexport class ViewPayoutUsageDataResponse extends DataResponse(ViewPayoutUsageResponse) {}\r\n"]}