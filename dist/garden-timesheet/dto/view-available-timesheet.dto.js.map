{"version":3,"file":"view-available-timesheet.dto.js","sourceRoot":"/","sources":["garden-timesheet/dto/view-available-timesheet.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA6C;AAC7C,0CAAyC;AACzC,4EAAgE;AAChE,qDAA8F;AAC9F,8DAAgE;AAEhE,mGAA8E;AAC9E,yDAAmD;AAEnD,yCAAyC;AAEzC,MAAa,qBAAqB;CAuBjC;AAvBD,sDAuBC;AAlBC;IAJC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAE3B,IAAA,2CAAc,EAAC,CAAC,CAAC;IACjB,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,oBAAW,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;8BAC7E,IAAI;wDAAA;AAOf;IALC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7B,IAAA,wBAAI,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IAClB,IAAA,uBAAK,GAAE;IACP,IAAA,qBAAG,EAAC,CAAC,CAAC;IACN,IAAA,qBAAG,EAAC,EAAE,CAAC;;uDACQ;AAQhB;IANC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,kBAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC7C,IAAA,yBAAO,GAAE;IACT,IAAA,wBAAM,EAAC,kBAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC/B,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;uDACnE;AAKrB,MAAM,sBAAsB;CAG3B;AAED,MAAa,yBAAyB;CAOrC;AAPD,8DAOC;AALC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,qBAAU,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;8DACxB;AAM3B,MAAa,6BAA8B,SAAQ,IAAA,8BAAY,EAAC,yBAAyB,CAAC;CAAG;AAA7F,sEAA6F","sourcesContent":["import { ApiProperty } from '@nestjs/swagger'\r\nimport * as moment from 'moment-timezone'\r\nimport { DataResponse } from '@common/contracts/openapi-builder'\r\nimport { ArrayMaxSize, ArrayMinSize, IsArray, IsEnum, IsInt, Max, Min } from 'class-validator'\r\nimport { SlotNumber, Weekday } from '@common/contracts/constant'\r\nimport { FutureMinMonth } from '@common/validators/future-min-month.validator'\r\nimport { FutureMaxMonth } from '@common/validators/future-max-month.validator'\r\nimport { Transform, Type } from 'class-transformer'\r\nimport { Types } from 'mongoose'\r\nimport { VN_TIMEZONE } from '@src/config'\r\n\r\nexport class QueryAvailableTimeDto {\r\n  @ApiProperty({ type: Date })\r\n  // @FutureMinMonth(1)\r\n  @FutureMaxMonth(3)\r\n  @Transform(({ value }) => (moment(value).tz(VN_TIMEZONE).startOf('date').toISOString()))\r\n  startDate: Date\r\n\r\n  @ApiProperty({ type: Number })\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(1)\r\n  @Max(12)\r\n  duration: number\r\n\r\n  @ApiProperty({ enum: Weekday, isArray: true })\r\n  @IsArray()\r\n  @IsEnum(Weekday, { each: true })\r\n  @ArrayMinSize(2)\r\n  @ArrayMaxSize(2)\r\n  @Transform(({ value }) => (Array.isArray(value) ? [...new Set(value)] : Array(value)))\r\n  weekdays: Weekday[]\r\n\r\n  instructorId: Types.ObjectId\r\n}\r\n\r\nclass AvailableTimeOfGardens {\r\n  slotNumbers: SlotNumber[]\r\n  gardenId: Types.ObjectId\r\n}\r\n\r\nexport class ViewAvailableTimeResponse {\r\n  @ApiProperty({ enum: SlotNumber, isArray: true })\r\n  slotNumbers: SlotNumber[]\r\n\r\n  availableTimeOfGardens?: AvailableTimeOfGardens[]\r\n\r\n  notAvailableSlotsByInstructor?: SlotNumber[]\r\n}\r\nexport class ViewAvailableTimeDataResponse extends DataResponse(ViewAvailableTimeResponse) {}\r\n"]}