{"version":3,"file":"create-garden-timesheet.dto.js","sourceRoot":"/","sources":["garden-timesheet/dto/create-garden-timesheet.dto.ts"],"names":[],"mappings":";;;AAAA,6CAA0C;AAC1C,0CAAyC;AACzC,2EAAoE;AAGpE,8DAAkE;AAClE,yCAAyC;AAEzC,MAAa,wBAAyB,SAAQ,IAAA,kBAAQ,EAAC,kDAAsB,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,gBAAgB,CAAC,CAAC;IAG9H,YAAY,QAAwB,EAAE,IAAU,EAAE,cAAsB;QACtE,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,oBAAW,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;QAC/D,KAAK,EAAE,CAAA;QACP,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;QACxB,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC,MAAM,EAAE,CAAA;QAChC,IAAI,CAAC,MAAM,GAAG,gCAAqB,CAAC,MAAM,CAAA;QAC1C,IAAI,CAAC,cAAc,GAAG,cAAc,CAAA;QACpC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;IAuBjB,CAAC;CACF;AAlCD,4DAkCC","sourcesContent":["import { PickType } from '@nestjs/swagger'\r\nimport * as moment from 'moment-timezone'\r\nimport { BaseGardenTimesheetDto } from './base.garden-timesheet.dto'\r\nimport { CreateSlotDto } from './slot.dto'\r\nimport { Types } from 'mongoose'\r\nimport { GardenTimesheetStatus } from '@common/contracts/constant'\r\nimport { VN_TIMEZONE } from '@src/config'\r\n\r\nexport class CreateGardenTimesheetDto extends PickType(BaseGardenTimesheetDto, ['date', 'status', 'gardenId', 'gardenMaxClass']) {\r\n  slots: CreateSlotDto[]\r\n\r\n  constructor(gardenId: Types.ObjectId, date: Date, gardenMaxClass: number) {\r\n    const startOfDate = moment(date).tz(VN_TIMEZONE).startOf('day')\r\n    super()\r\n    this.gardenId = gardenId\r\n    this.date = startOfDate.toDate()\r\n    this.status = GardenTimesheetStatus.ACTIVE\r\n    this.gardenMaxClass = gardenMaxClass\r\n    this.slots = []\r\n    // this.slots = [\r\n    //   {\r\n    //     start: startOfDate.clone().add(7, 'hour').toDate(),\r\n    //     end: startOfDate.clone().add(9, 'hour').toDate(),\r\n    //     status: SlotStatus.AVAILABLE\r\n    //   },\r\n    //   {\r\n    //     start: startOfDate.clone().add(9, 'hour').add(30, 'minute').toDate(),\r\n    //     end: startOfDate.clone().add(11, 'hour').add(30, 'minute').toDate(),\r\n    //     status: SlotStatus.AVAILABLE\r\n    //   },\r\n    //   {\r\n    //     start: startOfDate.clone().add(13, 'hour').toDate(),\r\n    //     end: startOfDate.clone().add(15, 'hour').toDate(),\r\n    //     status: SlotStatus.AVAILABLE\r\n    //   },\r\n    //   {\r\n    //     start: startOfDate.clone().add(15, 'hour').add(30, 'minute').toDate(),\r\n    //     end: startOfDate.clone().add(17, 'hour').add(30, 'minute').toDate(),\r\n    //     status: SlotStatus.AVAILABLE\r\n    //   }\r\n    // ]\r\n  }\r\n}\r\n\r\n// {\r\n//   \"_id\": {\r\n//     \"$oid\": \"670010c4d9e04f5b171e0c54\"\r\n//   },\r\n//   \"status\": \"ACTIVE\",\r\n//   \"date\": {\r\n//     \"$date\": \"2024-10-28T17:00:00.000Z\"\r\n//   },\r\n//   \"gardenId\": {\r\n//     \"$oid\": \"66e6a5df0c505c7cee81cc5d\"\r\n//   },\r\n//   \"slots\": [\r\n//     {\r\n//       \"start\": {\r\n//         \"$date\": \"2024-10-29T00:00:00.000Z\"\r\n//       },\r\n//       \"end\": {\r\n//         \"$date\": \"2024-10-29T02:00:00.000Z\"\r\n//       },\r\n//       \"status\": \"NOT_AVAILABLE\",\r\n//       \"classId\": \"classId\",\r\n//       \"slotNumber\": 1\r\n//     },\r\n//     {\r\n//       \"start\": {\r\n//         \"$date\": \"2024-10-29T02:30:00.000Z\"\r\n//       },\r\n//       \"end\": {\r\n//         \"$date\": \"2024-10-29T04:00:00.000Z\"\r\n//       },\r\n//       \"status\": \"NOT_AVAILABLE\",\r\n//       \"classId\": \"classId2\",\r\n//       \"slotNumber\": 2\r\n//     }\r\n//   ],\r\n//   \"__v\": 0,\r\n//   \"createdAt\": {\r\n//     \"$date\": \"2024-10-04T15:59:00.743Z\"\r\n//   },\r\n//   \"updatedAt\": {\r\n//     \"$date\": \"2024-10-04T15:59:00.743Z\"\r\n//   },\r\n//   \"gardenMaxClass\": 1\r\n// }"]}