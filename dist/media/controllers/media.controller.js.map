{"version":3,"file":"media.controller.js","sourceRoot":"/","sources":["media/controllers/media.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAAkE;AAClE,6CAAiH;AACjH,oDAAqD;AACrD,qEAA0D;AAC1D,6DAA4D;AAC5D,4EAAwG;AACxG,oFAAqH;AAO9G,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAO3D,iBAAiB,CAAS,oBAA0C;QAClE,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAA;IACvD,CAAC;IAOD,eAAe,CAAS,uBAAgD;QACtE,OAAO,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,uBAAuB,CAAC,CAAA;IACnE,CAAC;CACF,CAAA;AApBY,0CAAe;AAQ1B;IALC,IAAA,sBAAY,EAAC;QACZ,OAAO,EAAE,sCAAsC;KAChD,CAAC;IACD,IAAA,4BAAkB,EAAC,EAAE,IAAI,EAAE,uDAA6B,EAAE,CAAC;IAC3D,IAAA,aAAI,GAAE;IACY,WAAA,IAAA,aAAI,GAAE,CAAA;;qCAAuB,8CAAoB;;wDAEnE;AAOD;IALC,IAAA,sBAAY,EAAC;QACZ,OAAO,EAAE,yBAAyB;KACnC,CAAC;IACD,IAAA,4BAAkB,EAAC,EAAE,IAAI,EAAE,iEAAmC,EAAE,CAAC;IACjE,IAAA,aAAI,EAAC,eAAe,CAAC;IACL,WAAA,IAAA,aAAI,GAAE,CAAA;;qCAA0B,qDAAuB;;sDAEvE;0BAnBU,eAAe;IAL3B,IAAA,iBAAO,EAAC,OAAO,CAAC;IAChB,IAAA,uBAAa,GAAE;IACf,IAAA,+BAAqB,EAAC,EAAE,IAAI,EAAE,mBAAa,EAAE,CAAC;IAC9C,IAAA,kBAAS,EAAC,6BAAY,CAAC,YAAY,CAAC;IACpC,IAAA,mBAAU,GAAE;qCAEgC,4BAAY;GAD5C,eAAe,CAoB3B","sourcesContent":["import { Controller, UseGuards, Body, Post } from '@nestjs/common'\r\nimport { ApiBadRequestResponse, ApiBearerAuth, ApiCreatedResponse, ApiOperation, ApiTags } from '@nestjs/swagger'\r\nimport { ErrorResponse } from '@common/contracts/dto'\r\nimport { JwtAuthGuard } from '@auth/guards/jwt-auth.guard'\r\nimport { MediaService } from '@media/services/media.service'\r\nimport { GenerateSignedUrlDataResponse, GenerateSignedUrlDto } from '@media/dto/generate-signed-url.dto'\r\nimport { UploadMediaViaBase64DataResponseDto, UploadMediaViaBase64Dto } from '@media/dto/upload-media-via-base64.dto'\r\n\r\n@ApiTags('Media')\r\n@ApiBearerAuth()\r\n@ApiBadRequestResponse({ type: ErrorResponse })\r\n@UseGuards(JwtAuthGuard.ACCESS_TOKEN)\r\n@Controller()\r\nexport class MediaController {\r\n  constructor(private readonly mediaService: MediaService) {}\r\n\r\n  @ApiOperation({\r\n    summary: `Generating authentication signatures`\r\n  })\r\n  @ApiCreatedResponse({ type: GenerateSignedUrlDataResponse })\r\n  @Post()\r\n  generateSignedURL(@Body() generateSignedUrlDto: GenerateSignedUrlDto) {\r\n    return this.mediaService.create(generateSignedUrlDto)\r\n  }\r\n\r\n  @ApiOperation({\r\n    summary: `Upload Media Via Base64`\r\n  })\r\n  @ApiCreatedResponse({ type: UploadMediaViaBase64DataResponseDto })\r\n  @Post('upload/base64')\r\n  uploadViaBase64(@Body() uploadMediaViaBase64Dto: UploadMediaViaBase64Dto) {\r\n    return this.mediaService.uploadViaBase64(uploadMediaViaBase64Dto)\r\n  }\r\n}\r\n"]}