{"version":3,"file":"generate-signed-url.dto.js","sourceRoot":"/","sources":["media/dto/generate-signed-url.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qDAA4E;AAC5E,6CAAkE;AAClE,oDAAqD;AACrD,4EAAgE;AAEhE,MAAa,oBAAoB;CAyBhC;AAzBD,oDAyBC;AAtBC;IAFC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,oBAAS,EAAE,CAAC;IAChC,IAAA,wBAAM,EAAC,oBAAS,CAAC;;kDACN;AAKZ;IAHC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC;IAC3D,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;;uDACM;AAKjB;IAHC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;IACxD,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;;oDACG;AAMd;IAJC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACpD,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;IACV,IAAA,wBAAM,EAAC,IAAI,CAAC;;oDACD;AAKZ;IAHC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC;IAC/D,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;;2DACU;AAGvB,MAAM,yBAA0B,SAAQ,oBAAoB;CAM3D;AAJC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;;4DACpC;AAGjB;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;;4DAClE;AAGnB,MAAa,6BAA8B,SAAQ,IAAA,8BAAY,EAAC,yBAAyB,CAAC;CAAG;AAA7F,sEAA6F","sourcesContent":["import { Equals, IsEnum, IsIn, IsOptional, IsString } from 'class-validator'\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger'\r\nimport { MediaType } from '@media/contracts/constant'\r\nimport { DataResponse } from '@common/contracts/openapi-builder'\r\n\r\nexport class GenerateSignedUrlDto {\r\n  @ApiProperty({ enum: MediaType })\r\n  @IsEnum(MediaType)\r\n  type: string\r\n\r\n  @ApiPropertyOptional({ type: String, example: 'public_id' })\r\n  @IsOptional()\r\n  @IsString()\r\n  public_id: string\r\n\r\n  @ApiPropertyOptional({ type: String, example: 'images' })\r\n  @IsOptional()\r\n  @IsString()\r\n  folder: string\r\n\r\n  @ApiPropertyOptional({ type: String, example: 'uw' })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Equals('uw')\r\n  source: 'uw'\r\n\r\n  @ApiPropertyOptional({ type: String, example: 'upload_preset' })\r\n  @IsOptional()\r\n  @IsString()\r\n  upload_preset: string\r\n}\r\n\r\nclass GenerateSignedUrlResponse extends GenerateSignedUrlDto {\r\n  @ApiProperty({ type: String, example: '1726296279' })\r\n  timestamp: string\r\n\r\n  @ApiProperty({ type: String, example: 'e360bd525b6fbc21bceedbe7d5a9f9a9e0e155e4' })\r\n  signature: string\r\n}\r\n\r\nexport class GenerateSignedUrlDataResponse extends DataResponse(GenerateSignedUrlResponse) {}\r\n\r\n// {\r\n//   \"asset_id\": \"15a66cd41cb44ebdc518f767a2fffb52\",\r\n//   \"public_id\": \"orchidify_upload/jlhqjvxdqjshg9xtfvkt\",\r\n//   \"signature\": \"61e1614d8758f9d11a419a1a714083b65f2bb6cd\",\r\n//   \"width\": 750,\r\n//   \"height\": 1125,\r\n//   \"format\": \"jpg\",\r\n//   \"resource_type\": \"image\",\r\n//   \"created_at\": \"2024-09-14T06:51:27Z\",\r\n//   \"type\": \"authenticated\",\r\n//   \"url\": \"http://res.cloudinary.com/orchidify/image/authenticated/s--hJ8eOb6---/v1726296687/orchidify_upload/jlhqjvxdqjshg9xtfvkt.jpg\",\r\n//   \"secure_url\": \"https://res.cloudinary.com/orchidify/image/authenticated/s--hJ8eOb6---/v1726296687/orchidify_upload/jlhqjvxdqjshg9xtfvkt.jpg\",\r\n//   \"asset_folder\": \"orchidify_upload\",\r\n//   \"display_name\": \"jlhqjvxdqjshg9xtfvkt\",\r\n//   \"access_mode\": \"public\",\r\n//   \"original_filename\": \"IMG_0207\",\r\n//   \"original_extension\": \"JPG\"\r\n// }\r\n"]}