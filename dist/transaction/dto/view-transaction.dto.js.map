{"version":3,"file":"view-transaction.dto.js","sourceRoot":"/","sources":["transaction/dto/view-transaction.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA+D;AAC/D,iEAA2D;AAC3D,4EAAkF;AAClF,qDAAkF;AAClF,8DAA8D;AAC9D,yDAAmD;AACnD,oDAA4I;AAE5I,MAAa,mBAAmB;CAwC/B;AAxCD,kDAwCC;AAjCC;IANC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE,0BAAe;QACrB,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;iDACjD;AAQvB;IANC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE,CAAC,wBAAa,CAAC,MAAM,EAAE,wBAAa,CAAC,IAAI,CAAC;QAChD,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;0DAC1C;AAQ9B;IANC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE,CAAC,4BAAiB,CAAC,QAAQ,EAAE,4BAAiB,CAAC,KAAK,EAAE,4BAAiB,CAAC,QAAQ,CAAC;QACvF,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;mDAC7C;AAQ3B;IANC,IAAA,6BAAmB,GAAE;IACrB,IAAA,4BAAU,GAAE;IACZ,IAAA,wBAAI,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IAClB,IAAA,uBAAK,GAAE;IACP,IAAA,qBAAG,EAAC,IAAK,CAAC;IACV,IAAA,qBAAG,EAAC,QAAU,CAAC;;uDACE;AAQlB;IANC,IAAA,6BAAmB,GAAE;IACrB,IAAA,4BAAU,GAAE;IACZ,IAAA,wBAAI,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IAClB,IAAA,uBAAK,GAAE;IACP,IAAA,qBAAG,EAAC,IAAK,CAAC;IACV,IAAA,qBAAG,EAAC,QAAU,CAAC;;qDACA;AAGlB,MAAM,2BAA4B,SAAQ,IAAA,kBAAQ,EAAC,yCAAkB,EAAE,sCAA2B,CAAC;CAAG;AACtG,MAAM,uBAAwB,SAAQ,IAAA,kCAAgB,EAAC,2BAA2B,CAAC;CAAG;AACtF,MAAa,2BAA4B,SAAQ,IAAA,8BAAY,EAAC,uBAAuB,CAAC;CAAG;AAAzF,kEAAyF;AAEzF,MAAM,yBAA0B,SAAQ,IAAA,kBAAQ,EAAC,yCAAkB,EAAE,wCAA6B,CAAC;CAAG;AACtG,MAAa,6BAA8B,SAAQ,IAAA,8BAAY,EAAC,yBAAyB,CAAC;CAAG;AAA7F,sEAA6F","sourcesContent":["import { ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { BaseTransactionDto } from './base.transaction.dto'\r\nimport { DataResponse, PaginateResponse } from '@common/contracts/openapi-builder'\r\nimport { IsInt, IsOptional, IsString, Max, MaxLength, Min } from 'class-validator'\r\nimport { TransactionStatus } from '@common/contracts/constant'\r\nimport { Transform, Type } from 'class-transformer'\r\nimport { PaymentMethod, TRANSACTION_DETAIL_PROJECTION, TRANSACTION_LIST_PROJECTION, TransactionType } from '@transaction/contracts/constant'\r\n\r\nexport class QueryTransactionDto {\r\n  @ApiPropertyOptional({\r\n    enum: TransactionType,\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  type: TransactionType[]\r\n\r\n  @ApiPropertyOptional({\r\n    enum: [PaymentMethod.STRIPE, PaymentMethod.MOMO],\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  paymentMethod: PaymentMethod[]\r\n\r\n  @ApiPropertyOptional({\r\n    enum: [TransactionStatus.CAPTURED, TransactionStatus.ERROR, TransactionStatus.CANCELED],\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  status: TransactionStatus[]\r\n\r\n  @ApiPropertyOptional()\r\n  @IsOptional()\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(1_000)\r\n  @Max(50_000_000)\r\n  fromAmount: number\r\n\r\n  @ApiPropertyOptional()\r\n  @IsOptional()\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(1_000)\r\n  @Max(50_000_000)\r\n  toAmount: number\r\n}\r\n\r\nclass TransactionListItemResponse extends PickType(BaseTransactionDto, TRANSACTION_LIST_PROJECTION) {}\r\nclass TransactionListResponse extends PaginateResponse(TransactionListItemResponse) {}\r\nexport class TransactionListDataResponse extends DataResponse(TransactionListResponse) {}\r\n\r\nclass TransactionDetailResponse extends PickType(BaseTransactionDto, TRANSACTION_DETAIL_PROJECTION) {}\r\nexport class TransactionDetailDataResponse extends DataResponse(TransactionDetailResponse) {}\r\n"]}