{"version":3,"file":"view-class-request.dto.js","sourceRoot":"/","sources":["class-request/dto/view-class-request.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA4E;AAC5E,qEAA8D;AAC9D,4EAAkF;AAClF,qDAA4C;AAC5C,8DAAiF;AACjF,yDAA6C;AAC7C,oDAAsH;AAEtH,kFAAuE;AACvE,mEAAwD;AAExD,MAAa,oBAAoB;CAwBhC;AAxBD,oDAwBC;AAjBC;IANC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE,CAAC,2BAAgB,CAAC,aAAa,EAAE,2BAAgB,CAAC,YAAY,CAAC;QACrE,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;kDAChD;AAcxB;IAZC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE;YACJ,6BAAkB,CAAC,OAAO;YAC1B,6BAAkB,CAAC,QAAQ;YAC3B,6BAAkB,CAAC,QAAQ;YAC3B,6BAAkB,CAAC,OAAO;YAC1B,6BAAkB,CAAC,QAAQ;SAC5B;QACD,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;oDAC5C;AAM9B,MAAM,0CAA2C,SAAQ,IAAA,kBAAQ,EAAC,4CAAmB,EAAE,wCAA6B,CAAC;CAAG;AACxH,MAAM,sCAAuC,SAAQ,IAAA,kCAAgB,EAAC,0CAA0C,CAAC;CAAG;AACpH,MAAa,0CAA2C,SAAQ,IAAA,8BAAY,EAAC,sCAAsC,CAAC;CAAG;AAAvH,gGAAuH;AAEvH,MAAM,wCAAyC,SAAQ,IAAA,kBAAQ,EAAC,4CAAmB,EAAE,0CAA+B,CAAC;CAGpH;AADC;IADC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,6BAAY,EAAE,CAAC;8BACrC,6BAAY;uEAAA;AAErB,MAAa,4CAA6C,SAAQ,IAAA,8BAAY,EAC5E,wCAAwC,CACzC;CAAG;AAFJ,oGAEI;AAGJ,MAAM,wBAAyB,SAAQ,IAAA,kBAAQ,EAAC,uCAAiB,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;CAAG;AAExH,MAAM,qCAAsC,SAAQ,IAAA,kBAAQ,EAAC,4CAAmB,EAAE,wCAA6B,CAAC;CAG/G;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,wBAAwB,EAAE,CAAC;;wEACH;AAE/C,MAAM,iCAAkC,SAAQ,IAAA,kCAAgB,EAAC,qCAAqC,CAAC;CAAG;AAC1G,MAAa,qCAAsC,SAAQ,IAAA,8BAAY,EAAC,iCAAiC,CAAC;CAAG;AAA7G,sFAA6G;AAE7G,MAAM,mCAAoC,SAAQ,wCAAwC;CAMzF;AAJC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,wBAAwB,EAAE,CAAC;;sEACH;AAG7C;IADC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,6BAAY,EAAE,CAAC;8BACrC,6BAAY;kEAAA;AAErB,MAAa,uCAAwC,SAAQ,IAAA,8BAAY,EAAC,mCAAmC,CAAC;CAAG;AAAjH,0FAAiH","sourcesContent":["import { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { BaseClassRequestDto } from './base.class-request.dto'\r\nimport { DataResponse, PaginateResponse } from '@common/contracts/openapi-builder'\r\nimport { IsOptional } from 'class-validator'\r\nimport { ClassRequestStatus, ClassRequestType } from '@common/contracts/constant'\r\nimport { Transform } from 'class-transformer'\r\nimport { CLASS_REQUEST_DETAIL_PROJECTION, CLASS_REQUEST_LIST_PROJECTION } from '@src/class-request/contracts/constant'\r\nimport { Types } from 'mongoose'\r\nimport { BaseInstructorDto } from '@instructor/dto/base.instructor.dto'\r\nimport { BaseClassDto } from '@class/dto/base.class.dto'\r\n\r\nexport class QueryClassRequestDto {\r\n  @ApiPropertyOptional({\r\n    enum: [ClassRequestType.PUBLISH_CLASS, ClassRequestType.CANCEL_CLASS],\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  type: ClassRequestType[]\r\n\r\n  @ApiPropertyOptional({\r\n    enum: [\r\n      ClassRequestStatus.PENDING,\r\n      ClassRequestStatus.APPROVED,\r\n      ClassRequestStatus.CANCELED,\r\n      ClassRequestStatus.EXPIRED,\r\n      ClassRequestStatus.REJECTED\r\n    ],\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  status: ClassRequestStatus[]\r\n\r\n  createdBy: string\r\n}\r\n\r\n// Instructor\r\nclass InstructorViewClassRequestListItemResponse extends PickType(BaseClassRequestDto, CLASS_REQUEST_LIST_PROJECTION) {}\r\nclass InstructorViewClassRequestListResponse extends PaginateResponse(InstructorViewClassRequestListItemResponse) {}\r\nexport class InstructorViewClassRequestListDataResponse extends DataResponse(InstructorViewClassRequestListResponse) {}\r\n\r\nclass InstructorViewClassRequestDetailResponse extends PickType(BaseClassRequestDto, CLASS_REQUEST_DETAIL_PROJECTION) {\r\n  @ApiPropertyOptional({ type: BaseClassDto })\r\n  class: BaseClassDto\r\n}\r\nexport class InstructorViewClassRequestDetailDataResponse extends DataResponse(\r\n  InstructorViewClassRequestDetailResponse\r\n) {}\r\n\r\n// Management\r\nclass ClassRequestCreatedByDto extends PickType(BaseInstructorDto, ['_id', 'name', 'email', 'idCardPhoto', 'avatar']) {}\r\n\r\nclass StaffViewClassRequestListItemResponse extends PickType(BaseClassRequestDto, CLASS_REQUEST_LIST_PROJECTION) {\r\n  @ApiProperty({ type: ClassRequestCreatedByDto })\r\n  createdBy: Types.ObjectId | BaseInstructorDto\r\n}\r\nclass StaffViewClassRequestListResponse extends PaginateResponse(StaffViewClassRequestListItemResponse) {}\r\nexport class StaffViewClassRequestListDataResponse extends DataResponse(StaffViewClassRequestListResponse) {}\r\n\r\nclass StaffViewClassRequestDetailResponse extends InstructorViewClassRequestDetailResponse {\r\n  @ApiProperty({ type: ClassRequestCreatedByDto })\r\n  createdBy: Types.ObjectId | BaseInstructorDto\r\n\r\n  @ApiPropertyOptional({ type: BaseClassDto })\r\n  class: BaseClassDto\r\n}\r\nexport class StaffViewClassRequestDetailDataResponse extends DataResponse(StaffViewClassRequestDetailResponse) {}\r\n"]}