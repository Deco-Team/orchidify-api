{"version":3,"file":"create-publish-class-request.dto.js","sourceRoot":"/","sources":["class-request/dto/create-publish-class-request.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAAuD;AACvD,0CAAyC;AACzC,qEAA8D;AAC9D,8DAAgE;AAChE,qDAAqE;AACrE,mGAA8E;AAC9E,yDAA6C;AAC7C,yCAAyC;AAEzC,MAAa,4BAA6B,SAAQ,IAAA,kBAAQ,EAAC,4CAAmB,EAAE,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;CAoB3G;AApBD,oEAoBC;AAfC;IAJC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAE3B,IAAA,2CAAc,EAAC,CAAC,CAAC;IACjB,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,oBAAW,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;8BAC7E,IAAI;+DAAA;AAOf;IALC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,kBAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC7C,IAAA,yBAAO,GAAE;IACT,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;8DACnE;AAOnB;IALC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,qBAAU,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAChD,IAAA,yBAAO,GAAE;IACT,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;;iEACrF","sourcesContent":["import { ApiProperty, PickType } from '@nestjs/swagger'\r\nimport * as moment from 'moment-timezone'\r\nimport { BaseClassRequestDto } from './base.class-request.dto'\r\nimport { SlotNumber, Weekday } from '@common/contracts/constant'\r\nimport { ArrayMaxSize, ArrayMinSize, IsArray } from 'class-validator'\r\nimport { FutureMaxMonth } from '@common/validators/future-max-month.validator'\r\nimport { Transform } from 'class-transformer'\r\nimport { VN_TIMEZONE } from '@src/config'\r\n\r\nexport class CreatePublishClassRequestDto extends PickType(BaseClassRequestDto, ['description', 'courseId']) {\r\n  @ApiProperty({ type: Date })\r\n  // @FutureMinMonth(1)\r\n  @FutureMaxMonth(3)\r\n  @Transform(({ value }) => (moment(value).tz(VN_TIMEZONE).startOf('date').toISOString()))\r\n  startDate: Date\r\n\r\n  @ApiProperty({ enum: Weekday, isArray: true })\r\n  @IsArray()\r\n  @ArrayMinSize(2)\r\n  @ArrayMaxSize(2)\r\n  @Transform(({ value }) => (Array.isArray(value) ? [...new Set(value)] : Array(value)))\r\n  weekdays: Weekday[]\r\n\r\n  @ApiProperty({ enum: SlotNumber, isArray: true })\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ArrayMaxSize(1)\r\n  @Transform(({ value }) => (Array.isArray(value) ? [...new Set(value)].map(Number) : Array(value).map(Number)))\r\n  slotNumbers: SlotNumber[]\r\n}\r\n"]}