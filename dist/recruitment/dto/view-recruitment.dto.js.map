{"version":3,"file":"view-recruitment.dto.js","sourceRoot":"/","sources":["recruitment/dto/view-recruitment.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA4E;AAC5E,iEAA2D;AAC3D,4EAAkF;AAClF,oDAA4G;AAC5G,qDAAiE;AACjE,8DAA8D;AAC9D,yDAA6C;AAC7C,mEAAwD;AACxD,mEAAmD;AAEnD,MAAa,mBAAmB;CA8B/B;AA9BD,kDA8BC;AAvBC;IANC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,0BAA0B;KACxC,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,EAAE,CAAC;;iDACF;AAQZ;IANC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,2BAA2B;KACzC,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,EAAE,CAAC;;kDACD;AAcb;IAZC,IAAA,6BAAmB,EAAC;QACnB,IAAI,EAAE;YACJ,4BAAiB,CAAC,OAAO;YACzB,4BAAiB,CAAC,YAAY;YAC9B,4BAAiB,CAAC,QAAQ;YAC1B,4BAAiB,CAAC,OAAO;YACzB,4BAAiB,CAAC,QAAQ;SAC3B;QACD,OAAO,EAAE,IAAI;KACd,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;;mDAC7C;AAG7B,MAAM,uBAAwB,SAAQ,IAAA,kBAAQ,EAAC,6BAAY,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;CAAG;AAChF,MAAM,yBAA0B,SAAQ,IAAA,kBAAQ,EAAC,yCAAkB,EAAE,wCAA6B,CAAC;CAGlG;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,uBAAuB,EAAE,CAAC;8BACpC,oBAAK;4DAAA;AAElB,MAAa,6BAA8B,SAAQ,IAAA,8BAAY,EAAC,yBAAyB,CAAC;CAAG;AAA7F,sEAA6F;AAE7F,MAAM,2BAA4B,SAAQ,IAAA,kBAAQ,EAAC,yCAAkB,EAAE,sCAA2B,CAAC;CAGlG;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,uBAAuB,EAAE,CAAC;8BACpC,oBAAK;8DAAA;AAElB,MAAM,uBAAwB,SAAQ,IAAA,kCAAgB,EAAC,2BAA2B,CAAC;CAAG;AACtF,MAAa,2BAA4B,SAAQ,IAAA,8BAAY,EAAC,uBAAuB,CAAC;CAAG;AAAzF,kEAAyF","sourcesContent":["import { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { BaseRecruitmentDto } from './base.recruitment.dto'\r\nimport { DataResponse, PaginateResponse } from '@common/contracts/openapi-builder'\r\nimport { RECRUITMENT_DETAIL_PROJECTION, RECRUITMENT_LIST_PROJECTION } from '@recruitment/contracts/constant'\r\nimport { IsOptional, IsString, MaxLength } from 'class-validator'\r\nimport { RecruitmentStatus } from '@common/contracts/constant'\r\nimport { Transform } from 'class-transformer'\r\nimport { BaseStaffDto } from '@staff/dto/base.staff.dto'\r\nimport { Staff } from '@staff/schemas/staff.schema'\r\n\r\nexport class QueryRecruitmentDto {\r\n  @ApiPropertyOptional({\r\n    description: 'Name applicant to search'\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  @MaxLength(50)\r\n  name: string\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Email applicant to search'\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  @MaxLength(50)\r\n  email: string\r\n\r\n  @ApiPropertyOptional({\r\n    enum: [\r\n      RecruitmentStatus.PENDING,\r\n      RecruitmentStatus.INTERVIEWING,\r\n      RecruitmentStatus.SELECTED,\r\n      RecruitmentStatus.EXPIRED,\r\n      RecruitmentStatus.REJECTED\r\n    ],\r\n    isArray: true\r\n  })\r\n  @IsOptional()\r\n  @Transform(({ value }) => (Array.isArray(value) ? value : Array(value)))\r\n  status: RecruitmentStatus[]\r\n}\r\n\r\nclass RecruitmentHandledByDto extends PickType(BaseStaffDto, ['_id', 'name']) {}\r\nclass RecruitmentDetailResponse extends PickType(BaseRecruitmentDto, RECRUITMENT_DETAIL_PROJECTION) {\r\n  @ApiProperty({ type: RecruitmentHandledByDto })\r\n  handledBy: Staff\r\n}\r\nexport class RecruitmentDetailDataResponse extends DataResponse(RecruitmentDetailResponse) {}\r\n\r\nclass RecruitmentListItemResponse extends PickType(BaseRecruitmentDto, RECRUITMENT_LIST_PROJECTION) {\r\n  @ApiProperty({ type: RecruitmentHandledByDto })\r\n  handledBy: Staff\r\n}\r\nclass RecruitmentListResponse extends PaginateResponse(RecruitmentListItemResponse) {}\r\nexport class RecruitmentListDataResponse extends DataResponse(RecruitmentListResponse) {}\r\n"]}