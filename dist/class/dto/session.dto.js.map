{"version":3,"file":"session.dto.js","sourceRoot":"/","sources":["class/dto/session.dto.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  ArrayMaxSize,\r\n  ArrayMinSize,\r\n  IsArray,\r\n  IsBoolean,\r\n  IsMongoId,\r\n  IsNotEmpty,\r\n  IsOptional,\r\n  IsString,\r\n  MaxLength,\r\n  ValidateNested\r\n} from 'class-validator'\r\nimport { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { Type } from 'class-transformer'\r\nimport { BaseMediaDto } from '@media/dto/base-media.dto'\r\nimport { MediaResourceType } from '@media/contracts/constant'\r\nimport { ArrayMediaMaxSize } from '@common/validators/array-media-max-size.validator'\r\nimport { BaseAssignmentDto, CreateAssignmentDto } from './assignment.dto'\r\n\r\nexport class SessionMediaDto extends BaseMediaDto {\r\n  @ApiPropertyOptional({ type: Boolean })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isAddedLater: boolean\r\n}\r\n\r\nexport class BaseSessionDto {\r\n  @ApiProperty({ type: String })\r\n  @IsOptional()\r\n  @IsMongoId()\r\n  _id: string\r\n\r\n  @ApiProperty({ type: Number })\r\n  sessionNumber: number\r\n\r\n  @ApiProperty({ type: String, example: 'Session title' })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  @MaxLength(50)\r\n  title: string\r\n\r\n  @ApiProperty({ type: String, example: 'Session description' })\r\n  @IsString()\r\n  @MaxLength(500)\r\n  description: string\r\n\r\n  @ApiProperty({ type: SessionMediaDto, isArray: true })\r\n  @IsArray()\r\n  @ArrayMediaMaxSize(1, MediaResourceType.video)\r\n  @ArrayMediaMaxSize(10, MediaResourceType.image)\r\n  @Type(() => SessionMediaDto)\r\n  @ValidateNested({ each: true })\r\n  media: SessionMediaDto[]\r\n\r\n  @ApiPropertyOptional({ type: BaseAssignmentDto, isArray: true })\r\n  @IsOptional()\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ArrayMaxSize(1)\r\n  @Type(() => BaseAssignmentDto)\r\n  @ValidateNested({ each: true })\r\n  assignments: BaseAssignmentDto[]\r\n}\r\n\r\nexport class CreateSessionDto extends PickType(BaseSessionDto, ['title', 'description']) {\r\n  @ApiProperty({ type: BaseMediaDto, isArray: true })\r\n  @IsArray()\r\n  @ArrayMediaMaxSize(1, MediaResourceType.video)\r\n  @ArrayMediaMaxSize(10, MediaResourceType.image)\r\n  @Type(() => BaseMediaDto)\r\n  @ValidateNested({ each: true })\r\n  media: BaseMediaDto[]\r\n\r\n  @ApiPropertyOptional({ type: CreateAssignmentDto, isArray: true })\r\n  @IsOptional()\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ArrayMaxSize(1)\r\n  @Type(() => CreateAssignmentDto)\r\n  @ValidateNested({ each: true })\r\n  assignments: CreateAssignmentDto[]\r\n}\r\n\r\nexport class UpdateSessionDto extends CreateSessionDto {}\r\n\r\nexport class UploadSessionResourcesDto {\r\n  @ApiProperty({ type: SessionMediaDto, isArray: true })\r\n  @IsArray()\r\n  @ArrayMediaMaxSize(1, MediaResourceType.video)\r\n  @ArrayMediaMaxSize(2, MediaResourceType.image)\r\n  @Type(() => SessionMediaDto)\r\n  @ValidateNested({ each: true })\r\n  media: SessionMediaDto[]\r\n}\r\n"]}