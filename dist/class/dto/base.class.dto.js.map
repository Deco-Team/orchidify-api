{"version":3,"file":"base.class.dto.js","sourceRoot":"/","sources":["class/dto/base.class.dto.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  ArrayMaxSize,\r\n  ArrayMinSize,\r\n  IsArray,\r\n  IsDateString,\r\n  IsEnum,\r\n  IsInt,\r\n  IsMongoId,\r\n  IsNotEmpty,\r\n  IsNumber,\r\n  IsString,\r\n  IsUrl,\r\n  Max,\r\n  MaxLength,\r\n  Min,\r\n  ValidateNested\r\n} from 'class-validator'\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger'\r\nimport { ClassStatus, SlotNumber, Weekday } from '@common/contracts/constant'\r\nimport { Transform, Type } from 'class-transformer'\r\nimport { BaseMediaDto } from '@media/dto/base-media.dto'\r\nimport { ClassStatusHistory } from '@src/class/schemas/class.schema'\r\nimport { CourseLevel } from '@src/common/contracts/constant'\r\nimport { BaseSessionDto } from './session.dto'\r\nimport { BaseProgressDto } from './progress.dto'\r\nimport { BaseRatingSummaryDto } from './rating-summary.dto'\r\nimport { MAX_PRICE, MIN_PRICE } from '@src/config'\r\n\r\nexport class BaseClassDto {\r\n  @ApiProperty({ type: String })\r\n  @IsMongoId()\r\n  _id: string\r\n\r\n  @ApiProperty({ type: String })\r\n  code: string\r\n\r\n  @ApiProperty({ type: String, example: 'Class title' })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  @MaxLength(50)\r\n  title: string\r\n\r\n  @ApiProperty({ type: String, example: 'Class description' })\r\n  @IsString()\r\n  @MaxLength(500)\r\n  description: string\r\n\r\n  @ApiProperty({ type: Date, example: '2024-12-12' })\r\n  @IsDateString()\r\n  startDate: Date\r\n\r\n  @ApiProperty({ type: Number, example: 500_000 })\r\n  @IsInt()\r\n  @Min(MIN_PRICE)\r\n  @Max(MAX_PRICE)\r\n  price: number\r\n\r\n  @ApiProperty({ type: String, enum: CourseLevel })\r\n  @IsEnum(CourseLevel)\r\n  level: CourseLevel\r\n\r\n  @ApiProperty({ type: [String], example: ['Tách chiết'] })\r\n  @IsNotEmpty()\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  type: string[]\r\n\r\n  @ApiProperty({ type: Number })\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(1)\r\n  @Max(12)\r\n  duration: number\r\n\r\n  @ApiProperty({\r\n    type: String,\r\n    example: 'https://res.cloudinary.com/orchidify/image/upload/v1726377866/hcgbmek4qa8kksw2zrcg.jpg'\r\n  })\r\n  @IsUrl()\r\n  thumbnail: string\r\n\r\n  @ApiProperty({ type: BaseMediaDto, isArray: true })\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ArrayMaxSize(10)\r\n  @Type(() => BaseMediaDto)\r\n  @ValidateNested({ each: true })\r\n  media: BaseMediaDto[]\r\n\r\n  @ApiProperty({ type: BaseSessionDto, isArray: true })\r\n  @IsArray()\r\n  @ArrayMinSize(2)\r\n  @ArrayMaxSize(24)\r\n  @Type(() => BaseSessionDto)\r\n  @ValidateNested({ each: true })\r\n  sessions: BaseSessionDto[]\r\n\r\n  @ApiProperty({ type: String, enum: ClassStatus })\r\n  @IsEnum(ClassStatus)\r\n  status: ClassStatus\r\n\r\n  @ApiProperty({ type: ClassStatusHistory, isArray: true })\r\n  histories: ClassStatusHistory[]\r\n\r\n  @ApiProperty({ type: Number, example: 20 })\r\n  @IsInt()\r\n  @Min(10)\r\n  @Max(30)\r\n  learnerLimit: number\r\n\r\n  @ApiProperty({ type: Number })\r\n  learnerQuantity: number\r\n\r\n  @ApiProperty({ enum: Weekday, isArray: true })\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ArrayMaxSize(7)\r\n  @Transform(({ value }) => (Array.isArray(value) ? [...new Set(value)] : Array(value)))\r\n  weekdays: Weekday[]\r\n\r\n  @ApiProperty({ enum: SlotNumber, isArray: true })\r\n  @IsArray()\r\n  @ArrayMinSize(1)\r\n  @ArrayMaxSize(4)\r\n  @Transform(({ value }) => (Array.isArray(value) ? [...new Set(value)].map(Number) : Array(value).map(Number)))\r\n  slotNumbers: SlotNumber[]\r\n\r\n  @ApiPropertyOptional({ type: Number })\r\n  rate: number\r\n\r\n  @ApiPropertyOptional({ type: String })\r\n  cancelReason: string\r\n\r\n  @ApiProperty({ type: String, example: 'Course Garden Required Toolkits' })\r\n  @IsString()\r\n  @MaxLength(500)\r\n  gardenRequiredToolkits: string\r\n\r\n  @ApiProperty({ type: String })\r\n  instructorId: string\r\n\r\n  @ApiProperty({ type: String })\r\n  @IsMongoId()\r\n  gardenId: string\r\n\r\n  @ApiProperty({ type: String })\r\n  courseId: string\r\n\r\n  @ApiProperty({ type: BaseProgressDto })\r\n  progress: BaseProgressDto\r\n\r\n  @ApiPropertyOptional({ type: BaseRatingSummaryDto })\r\n  ratingSummary: BaseRatingSummaryDto\r\n\r\n  @ApiProperty({ type: Date })\r\n  createdAt: Date\r\n\r\n  @ApiProperty({ type: Date })\r\n  updatedAt: Date\r\n}\r\n"]}