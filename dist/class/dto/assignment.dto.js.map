{"version":3,"file":"assignment.dto.js","sourceRoot":"/","sources":["class/dto/assignment.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qDAUwB;AACxB,6CAA4E;AAC5E,yDAAmD;AACnD,mEAAwD;AACxD,yCAAyC;AACzC,0CAAyC;AAEzC,MAAa,iBAAiB;CA2B7B;AA3BD,8CA2BC;AAvBC;IAHC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7B,IAAA,4BAAU,GAAE;IACZ,IAAA,2BAAS,GAAE;;8CACD;AAMX;IAJC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC1D,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,EAAE,CAAC;;gDACD;AAKb;IAHC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IAChE,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,GAAG,CAAC;;sDACI;AAOnB;IALC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,6BAAY,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAClD,IAAA,yBAAO,GAAE;IACT,IAAA,8BAAY,EAAC,CAAC,CAAC;IACf,IAAA,wBAAI,EAAC,GAAG,EAAE,CAAC,6BAAY,CAAC;IACxB,IAAA,gCAAc,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;sDACJ;AAI3B;IAFC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACnC,IAAA,8BAAY,GAAE;8BACL,IAAI;mDAAA;AAGhB,MAAa,mBAAoB,SAAQ,IAAA,kBAAQ,EAAC,iBAAiB,EAAE,CAAC,OAAO,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;CAAG;AAAhH,kDAAgH;AAEhH,MAAa,mBAAmB;CAK/B;AALD,kDAKC;AADC;IAHC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC3B,IAAA,8BAAY,GAAE;IACd,IAAA,6BAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,oBAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;8BAC5E,IAAI;qDAAA","sourcesContent":["import {\r\n  ArrayMaxSize,\r\n  IsArray,\r\n  IsDateString,\r\n  IsMongoId,\r\n  IsNotEmpty,\r\n  IsOptional,\r\n  IsString,\r\n  MaxLength,\r\n  ValidateNested\r\n} from 'class-validator'\r\nimport { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { Transform, Type } from 'class-transformer'\r\nimport { BaseMediaDto } from '@media/dto/base-media.dto'\r\nimport { VN_TIMEZONE } from '@src/config'\r\nimport * as moment from 'moment-timezone'\r\n\r\nexport class BaseAssignmentDto {\r\n  @ApiProperty({ type: String })\r\n  @IsOptional()\r\n  @IsMongoId()\r\n  _id: string\r\n\r\n  @ApiProperty({ type: String, example: 'Assignment title' })\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  @MaxLength(50)\r\n  title: string\r\n\r\n  @ApiProperty({ type: String, example: 'Assignment description' })\r\n  @IsString()\r\n  @MaxLength(500)\r\n  description: string\r\n\r\n  @ApiProperty({ type: BaseMediaDto, isArray: true })\r\n  @IsArray()\r\n  @ArrayMaxSize(1)\r\n  @Type(() => BaseMediaDto)\r\n  @ValidateNested({ each: true })\r\n  attachments: BaseMediaDto[]\r\n\r\n  @ApiPropertyOptional({ type: Date })\r\n  @IsDateString()\r\n  deadline: Date\r\n}\r\n\r\nexport class CreateAssignmentDto extends PickType(BaseAssignmentDto, ['title', 'description', 'attachments']) {}\r\n\r\nexport class UpdateAssignmentDto {\r\n  @ApiProperty({ type: Date })\r\n  @IsDateString()\r\n  @Transform(({ value }) => (moment(value).tz(VN_TIMEZONE).endOf('date').toISOString())) \r\n  deadline: Date\r\n}\r\n"]}