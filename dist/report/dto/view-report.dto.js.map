{"version":3,"file":"view-report.dto.js","sourceRoot":"/","sources":["report/dto/view-report.dto.ts"],"names":[],"mappings":"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","sourcesContent":["import { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { BaseReportDto } from './base.report.dto'\r\nimport { DataResponse } from '@common/contracts/openapi-builder'\r\nimport { IsDateString, IsInt, IsOptional, Max, Min } from 'class-validator'\r\nimport { ClassStatus, StaffStatus } from '@common/contracts/constant'\r\nimport { Type } from 'class-transformer'\r\n\r\nexport class QueryReportByMonthDto {\r\n  @ApiPropertyOptional()\r\n  @IsOptional()\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(2024)\r\n  @Max(2024)\r\n  year: number\r\n}\r\n\r\nexport class QueryReportByWeekDto {\r\n  @ApiProperty({ type: Date, example: '2024-09-20' })\r\n  @IsDateString({ strict: true })\r\n  date: Date\r\n}\r\n\r\n// View Report Data Total Summary\r\nclass ReportTotalSummaryReportListItemResponse extends PickType(BaseReportDto, ['_id', 'type', 'data']) {}\r\nclass ReportTotalSummaryListResponse {\r\n  @ApiProperty({ type: ReportTotalSummaryReportListItemResponse, isArray: true })\r\n  docs: ReportTotalSummaryReportListItemResponse[]\r\n}\r\nexport class ReportTotalSummaryListDataResponse extends DataResponse(ReportTotalSummaryListResponse) {}\r\n\r\n// View Report User Data By Month\r\nclass ReportUserQuantityResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n}\r\nclass ReportUserByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportUserQuantityResponse })\r\n  learner: ReportUserQuantityResponse\r\n\r\n  @ApiProperty({ type: ReportUserQuantityResponse })\r\n  instructor: ReportUserQuantityResponse\r\n}\r\nclass ReportUserByMonthListResponse {\r\n  @ApiProperty({ type: ReportUserByMonthListItemResponse, isArray: true })\r\n  docs: ReportUserByMonthListItemResponse[]\r\n}\r\nexport class ReportUserByMonthListDataResponse extends DataResponse(ReportUserByMonthListResponse) {}\r\n\r\n// View Report Class Data By Status\r\nclass ReportClassByStatusListItemResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: String, enum: ClassStatus })\r\n  status: ClassStatus\r\n}\r\nclass ReportClassByStatusListResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: ReportClassByStatusListItemResponse, isArray: true })\r\n  docs: ReportClassByStatusListItemResponse[]\r\n}\r\nexport class ReportClassByStatusListDataResponse extends DataResponse(ReportClassByStatusListResponse) {}\r\n\r\n// View Report Revenue Data By Month\r\nclass ReportRevenueResponse {\r\n  @ApiProperty({ type: Number })\r\n  total: number\r\n}\r\nclass ReportRevenueByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportRevenueResponse })\r\n  revenue: ReportRevenueResponse\r\n}\r\nclass ReportRevenueByMonthListResponse {\r\n  @ApiProperty({ type: ReportRevenueByMonthListItemResponse, isArray: true })\r\n  docs: ReportRevenueByMonthListItemResponse[]\r\n}\r\nexport class ReportRevenueByMonthListDataResponse extends DataResponse(ReportRevenueByMonthListResponse) {}\r\n\r\n// View Report Staff Data By Status\r\nclass ReportStaffByStatusListItemResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: String, enum: StaffStatus })\r\n  status: StaffStatus\r\n}\r\nclass ReportStaffByStatusListResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: ReportStaffByStatusListItemResponse, isArray: true })\r\n  docs: ReportStaffByStatusListItemResponse[]\r\n}\r\nexport class ReportStaffByStatusListDataResponse extends DataResponse(ReportStaffByStatusListResponse) {}\r\n\r\n// View Report Transaction Data By Date\r\nclass ReportTransactionByDateListItemResponse {\r\n  @ApiProperty({ type: String })\r\n  _id: string\r\n\r\n  @ApiProperty({ type: Number })\r\n  paymentAmount: number\r\n\r\n  @ApiProperty({ type: Number })\r\n  payoutAmount: number\r\n}\r\nclass ReportTransactionByDateListResponse {\r\n  @ApiProperty({ type: ReportTransactionByDateListItemResponse, isArray: true })\r\n  docs: ReportTransactionByDateListItemResponse[]\r\n}\r\nexport class ReportTransactionByDateListDataResponse extends DataResponse(ReportTransactionByDateListResponse) {}\r\n"]}