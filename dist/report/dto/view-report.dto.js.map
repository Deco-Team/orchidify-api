{"version":3,"file":"view-report.dto.js","sourceRoot":"/","sources":["report/dto/view-report.dto.ts"],"names":[],"mappings":"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","sourcesContent":["import { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { BaseReportDto } from './base.report.dto'\r\nimport { DataResponse } from '@common/contracts/openapi-builder'\r\nimport { IsDateString, IsInt, IsOptional, Max, Min } from 'class-validator'\r\nimport { ClassStatus, InstructorStatus, LearnerStatus, StaffStatus } from '@common/contracts/constant'\r\nimport { Type } from 'class-transformer'\r\n\r\nexport class QueryReportByMonthDto {\r\n  @ApiPropertyOptional()\r\n  @IsOptional()\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(2024)\r\n  @Max(2024)\r\n  year: number\r\n}\r\n\r\nexport class QueryReportByWeekDto {\r\n  @ApiProperty({ type: Date, example: '2024-09-20' })\r\n  @IsDateString({ strict: true })\r\n  date: Date\r\n}\r\n\r\n// View Report Data Total Summary\r\nclass ReportTotalSummaryReportListItemResponse extends PickType(BaseReportDto, ['_id', 'type', 'data']) {}\r\nclass ReportTotalSummaryListResponse {\r\n  @ApiProperty({ type: ReportTotalSummaryReportListItemResponse, isArray: true })\r\n  docs: ReportTotalSummaryReportListItemResponse[]\r\n}\r\nexport class ReportTotalSummaryListDataResponse extends DataResponse(ReportTotalSummaryListResponse) {}\r\n\r\n// View Report User Data By Month\r\nclass ReportQuantityResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n}\r\nclass ReportUserByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportQuantityResponse })\r\n  learner: ReportQuantityResponse\r\n\r\n  @ApiProperty({ type: ReportQuantityResponse })\r\n  instructor: ReportQuantityResponse\r\n}\r\nclass ReportUserByMonthListResponse {\r\n  @ApiProperty({ type: ReportUserByMonthListItemResponse, isArray: true })\r\n  docs: ReportUserByMonthListItemResponse[]\r\n}\r\nexport class ReportUserByMonthListDataResponse extends DataResponse(ReportUserByMonthListResponse) {}\r\n\r\n// View Report Instructor Data By Month\r\nclass ReportInstructorByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportQuantityResponse })\r\n  instructor: ReportQuantityResponse\r\n}\r\nclass ReportInstructorByMonthListResponse {\r\n  @ApiProperty({ type: ReportInstructorByMonthListItemResponse, isArray: true })\r\n  docs: ReportInstructorByMonthListItemResponse[]\r\n}\r\nexport class ReportInstructorByMonthListDataResponse extends DataResponse(ReportInstructorByMonthListResponse) {}\r\n\r\n// View Report Learner Data By Month\r\nclass ReportLearnerByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportQuantityResponse })\r\n  learner: ReportQuantityResponse\r\n}\r\nclass ReportLearnerByMonthListResponse {\r\n  @ApiProperty({ type: ReportLearnerByMonthListItemResponse, isArray: true })\r\n  docs: ReportLearnerByMonthListItemResponse[]\r\n}\r\nexport class ReportLearnerByMonthListDataResponse extends DataResponse(ReportLearnerByMonthListResponse) {}\r\n\r\n// View Report Class Data By Status\r\nclass ReportClassByStatusListItemResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: String, enum: ClassStatus })\r\n  status: ClassStatus\r\n}\r\nclass ReportClassByStatusListResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: ReportClassByStatusListItemResponse, isArray: true })\r\n  docs: ReportClassByStatusListItemResponse[]\r\n}\r\nexport class ReportClassByStatusListDataResponse extends DataResponse(ReportClassByStatusListResponse) {}\r\n\r\n// View Report Revenue Data By Month\r\nclass ReportRevenueResponse {\r\n  @ApiProperty({ type: Number })\r\n  total: number\r\n}\r\nclass ReportRevenueByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportRevenueResponse })\r\n  revenue: ReportRevenueResponse\r\n}\r\nclass ReportRevenueByMonthListResponse {\r\n  @ApiProperty({ type: ReportRevenueByMonthListItemResponse, isArray: true })\r\n  docs: ReportRevenueByMonthListItemResponse[]\r\n}\r\nexport class ReportRevenueByMonthListDataResponse extends DataResponse(ReportRevenueByMonthListResponse) {}\r\n\r\n// View Report Staff Data By Status\r\nclass ReportStaffByStatusListItemResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: String, enum: StaffStatus })\r\n  status: StaffStatus\r\n}\r\nclass ReportStaffByStatusListResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: ReportStaffByStatusListItemResponse, isArray: true })\r\n  docs: ReportStaffByStatusListItemResponse[]\r\n}\r\nexport class ReportStaffByStatusListDataResponse extends DataResponse(ReportStaffByStatusListResponse) {}\r\n\r\n// View Report Transaction Data By Date\r\nclass ReportTransactionByDateListItemResponse {\r\n  @ApiProperty({ type: String })\r\n  _id: string\r\n\r\n  @ApiProperty({ type: Date })\r\n  date: Date\r\n\r\n  @ApiProperty({ type: Number })\r\n  paymentAmount: number\r\n\r\n  @ApiProperty({ type: Number })\r\n  payoutAmount: number\r\n}\r\nclass ReportTransactionByDateListResponse {\r\n  @ApiProperty({ type: ReportTransactionByDateListItemResponse, isArray: true })\r\n  docs: ReportTransactionByDateListItemResponse[]\r\n}\r\nexport class ReportTransactionByDateListDataResponse extends DataResponse(ReportTransactionByDateListResponse) {}\r\n\r\n// View Report Transaction Count By Month\r\nclass ReportTransactionCountByMonthListItemResponse {\r\n  @ApiProperty({ type: String })\r\n  _id: string\r\n\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: Number })\r\n  month: number\r\n}\r\nclass ReportTransactionCountByMonthListResponse {\r\n  @ApiProperty({ type: ReportTransactionCountByMonthListItemResponse, isArray: true })\r\n  docs: ReportTransactionCountByMonthListItemResponse[]\r\n}\r\nexport class ReportTransactionCountByMonthListDataResponse extends DataResponse(ReportTransactionCountByMonthListResponse) {}\r\n\r\n\r\n// View Report Course Data By Month\r\nclass ReportCourseByMonthListItemResponse {\r\n  @ApiProperty({ type: ReportQuantityResponse })\r\n  course: ReportQuantityResponse\r\n}\r\nclass ReportCourseByMonthListResponse {\r\n  @ApiProperty({ type: ReportCourseByMonthListItemResponse, isArray: true })\r\n  docs: ReportCourseByMonthListItemResponse[]\r\n}\r\nexport class ReportCourseByMonthListDataResponse extends DataResponse(ReportCourseByMonthListResponse) {}\r\n\r\nclass ReportCountResponse {\r\n  @ApiProperty({ type: String })\r\n  _id: string\r\n\r\n  @ApiProperty({ type: Number })\r\n  count: number\r\n}\r\n// View Report Course Count By Rate\r\nclass ReportCourseByRateListResponse {\r\n  @ApiProperty({ type: ReportCountResponse, isArray: true })\r\n  docs: ReportCountResponse[]\r\n}\r\nexport class ReportCourseByRateListDataResponse extends DataResponse(ReportCourseByRateListResponse) {}\r\n\r\n// View Report Class Count By Rate\r\nclass ReportClassByRateListResponse {\r\n  @ApiProperty({ type: ReportCountResponse, isArray: true })\r\n  docs: ReportCountResponse[]\r\n}\r\nexport class ReportClassByRateListDataResponse extends DataResponse(ReportClassByRateListResponse) {}\r\n\r\n// View Report Instructor Data By Status\r\nclass ReportInstructorByStatusListItemResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: String, enum: InstructorStatus })\r\n  status: InstructorStatus\r\n}\r\nclass ReportInstructorByStatusListResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: ReportInstructorByStatusListItemResponse, isArray: true })\r\n  docs: ReportInstructorByStatusListItemResponse[]\r\n}\r\nexport class ReportInstructorByStatusListDataResponse extends DataResponse(ReportInstructorByStatusListResponse) {}\r\n\r\n\r\n// View Report Learner Data By Status\r\nclass ReportLearnerByStatusListItemResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: String, enum: LearnerStatus })\r\n  status: LearnerStatus\r\n}\r\nclass ReportLearnerByStatusListResponse {\r\n  @ApiProperty({ type: Number })\r\n  quantity: number\r\n\r\n  @ApiProperty({ type: ReportLearnerByStatusListItemResponse, isArray: true })\r\n  docs: ReportLearnerByStatusListItemResponse[]\r\n}\r\nexport class ReportLearnerByStatusListDataResponse extends DataResponse(ReportLearnerByStatusListResponse) {}\r\n"]}