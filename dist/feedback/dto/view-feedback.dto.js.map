{"version":3,"file":"view-feedback.dto.js","sourceRoot":"/","sources":["feedback/dto/view-feedback.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,6CAA4E;AAC5E,4EAAkF;AAClF,2DAAiE;AACjE,yEAA8D;AAC9D,oDAIqC;AACrC,qDAA6D;AAE7D,yDAAwC;AAExC,MAAa,gBAAgB;CAU5B;AAVD,4CAUC;AAHC;IANC,IAAA,6BAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACrC,IAAA,4BAAU,GAAE;IACZ,IAAA,wBAAI,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IAClB,IAAA,uBAAK,GAAE;IACP,IAAA,qBAAG,EAAC,CAAC,CAAC;IACN,IAAA,qBAAG,EAAC,CAAC,CAAC;;8CACK;AAKd,MAAM,6BAA8B,SAAQ,IAAA,kBAAQ,EAAC,iCAAc,EAAE,iCAAsB,CAAC;CAAG;AAK/F,MAAM,wBAAyB,SAAQ,IAAA,kBAAQ,EAAC,mCAAe,EAAE,mCAAwB,CAAC;CAGzF;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,6BAA6B,EAAE,CAAC;8BAC5C,6BAA6B;yDAAA;AAExC,MAAM,yBAAyB;CAG9B;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,wBAAwB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;uDAC/B;AAElC,MAAa,6BAA8B,SAAQ,IAAA,8BAAY,EAAC,yBAAyB,CAAC;CAAG;AAA7F,sEAA6F;AAE7F,MAAM,sCAAuC,SAAQ,IAAA,kBAAQ,EAC3D,mCAAe,EACf,mDAAwC,CACzC;CAAG;AACJ,MAAM,uCAAuC;CAG5C;AADC;IADC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,sCAAsC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;qEAC/B;AAEhD,MAAa,2CAA4C,SAAQ,IAAA,8BAAY,EAC3E,uCAAuC,CACxC;CAAG;AAFJ,kGAEI;AAKJ,MAAM,0BAA2B,SAAQ,IAAA,kCAAgB,EAAC,wBAAwB,CAAC;CAAG;AACtF,MAAa,8BAA+B,SAAQ,IAAA,8BAAY,EAAC,0BAA0B,CAAC;CAAG;AAA/F,wEAA+F;AAE/F,MAAM,wCAAyC,SAAQ,IAAA,kCAAgB,EAAC,sCAAsC,CAAC;CAAG;AAClH,MAAa,4CAA6C,SAAQ,IAAA,8BAAY,EAC5E,wCAAwC,CACzC;CAAG;AAFJ,oGAEI","sourcesContent":["import { ApiProperty, ApiPropertyOptional, PickType } from '@nestjs/swagger'\r\nimport { DataResponse, PaginateResponse } from '@common/contracts/openapi-builder'\r\nimport { BaseFeedbackDto } from '@feedback/dto/base.feedback.dto'\r\nimport { BaseLearnerDto } from '@learner/dto/base.learner.dto'\r\nimport {\r\n  FEEDBACK_LEANER_DETAIL,\r\n  FEEDBACK_LIST_PROJECTION,\r\n  INSTRUCTOR_VIEW_FEEDBACK_LIST_PROJECTION\r\n} from '@feedback/contracts/constant'\r\nimport { IsInt, IsOptional, Max, Min } from 'class-validator'\r\nimport { Types } from 'mongoose'\r\nimport { Type } from 'class-transformer'\r\n\r\nexport class QueryFeedbackDto {\r\n  @ApiPropertyOptional({ type: String })\r\n  @IsOptional()\r\n  @Type(() => Number)\r\n  @IsInt()\r\n  @Min(0)\r\n  @Max(5)\r\n  rate: number\r\n\r\n  courseId: Types.ObjectId\r\n}\r\n\r\nclass FeedbackLearnerDetailResponse extends PickType(BaseLearnerDto, FEEDBACK_LEANER_DETAIL) {}\r\n\r\n/**\r\n * Class Feedback\r\n */\r\nclass FeedbackListItemResponse extends PickType(BaseFeedbackDto, FEEDBACK_LIST_PROJECTION) {\r\n  @ApiProperty({ type: FeedbackLearnerDetailResponse })\r\n  learner: FeedbackLearnerDetailResponse\r\n}\r\nclass ClassFeedbackListResponse {\r\n  @ApiProperty({ type: FeedbackListItemResponse, isArray: true })\r\n  docs: FeedbackListItemResponse[]\r\n}\r\nexport class ClassFeedbackListDataResponse extends DataResponse(ClassFeedbackListResponse) {}\r\n\r\nclass InstructorViewFeedbackListItemResponse extends PickType(\r\n  BaseFeedbackDto,\r\n  INSTRUCTOR_VIEW_FEEDBACK_LIST_PROJECTION\r\n) {}\r\nclass InstructorViewClassFeedbackListResponse {\r\n  @ApiProperty({ type: InstructorViewFeedbackListItemResponse, isArray: true })\r\n  docs: InstructorViewFeedbackListItemResponse[]\r\n}\r\nexport class InstructorViewClassFeedbackListDataResponse extends DataResponse(\r\n  InstructorViewClassFeedbackListResponse\r\n) {}\r\n\r\n/**\r\n * Course Feedback\r\n */\r\nclass CourseFeedbackListResponse extends PaginateResponse(FeedbackListItemResponse) {}\r\nexport class CourseFeedbackListDataResponse extends DataResponse(CourseFeedbackListResponse) {}\r\n\r\nclass InstructorViewCourseFeedbackListResponse extends PaginateResponse(InstructorViewFeedbackListItemResponse) {}\r\nexport class InstructorViewCourseFeedbackListDataResponse extends DataResponse(\r\n  InstructorViewCourseFeedbackListResponse\r\n) {}\r\n"]}