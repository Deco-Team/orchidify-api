{"version":3,"file":"firebase.repository.js","sourceRoot":"/","sources":["firebase/repositories/firebase.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAAmD;AACnD,mDAAqD;AAExC,QAAA,mBAAmB,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAA;AAUzD,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAK7B,YAAoC,WAA4B;QAApB,gBAAW,GAAX,WAAW,CAAS;QAJhE,2CAAgB;QAChB,gDAAuC;QACvC,gDAA+B;QAG7B,uBAAA,IAAI,4BAAS,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,MAAA,CAAA;QACpC,uBAAA,IAAI,iCAAc,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,MAAA,CAAA;QAC9C,uBAAA,IAAI,iCAAc,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,MAAA,CAAA;IAChD,CAAC;IAED,OAAO;QACL,OAAO,uBAAA,IAAI,gCAAM,CAAA;IACnB,CAAC;IAED,YAAY;QACV,OAAO,uBAAA,IAAI,qCAAW,CAAA;IACxB,CAAC;IAED,YAAY;QACV,OAAO,uBAAA,IAAI,qCAAW,CAAA;IACxB,CAAC;IAED,aAAa,CAAC,cAAsB;QAClC,OAAO,uBAAA,IAAI,qCAAW,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;IACpD,CAAC;CACF,CAAA;AA1BY,gDAAkB;;;;6BAAlB,kBAAkB;IAD9B,IAAA,mBAAU,GAAE;IAME,WAAA,IAAA,eAAM,EAAC,cAAc,CAAC,CAAA;;GALxB,kBAAkB,CA0B9B","sourcesContent":["import { Inject, Injectable } from '@nestjs/common'\r\nimport { app, auth, messaging } from 'firebase-admin'\r\n\r\nexport const IFirebaseRepository = Symbol('IFirebaseRepository')\r\n\r\nexport interface IFirebaseRepository {\r\n  getAuth(): auth.Auth\r\n  getFirestore(): FirebaseFirestore.Firestore\r\n  getMessaging(): messaging.Messaging\r\n  getCollection(collectionName: string): FirebaseFirestore.CollectionReference\r\n}\r\n\r\n@Injectable()\r\nexport class FirebaseRepository {\r\n  #auth: auth.Auth\r\n  #firestore: FirebaseFirestore.Firestore\r\n  #messaging: messaging.Messaging\r\n\r\n  constructor(@Inject('FIREBASE_APP') private firebaseApp: app.App) {\r\n    this.#auth = this.firebaseApp.auth()\r\n    this.#firestore = this.firebaseApp.firestore()\r\n    this.#messaging = this.firebaseApp.messaging()\r\n  }\r\n\r\n  getAuth() {\r\n    return this.#auth\r\n  }\r\n\r\n  getFirestore() {\r\n    return this.#firestore\r\n  }\r\n\r\n  getMessaging() {\r\n    return this.#messaging\r\n  }\r\n\r\n  getCollection(collectionName: string) {\r\n    return this.#firestore.collection(collectionName);\r\n  }\r\n}\r\n"]}