{"version":3,"file":"openapi-builder.js","sourceRoot":"/","sources":["common/contracts/openapi-builder.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,2CAAsC;AACtC,6CAAiE;AAGjE,SAAgB,gBAAgB,CAC9B,GAAS,EACT,OAAwC;IAExC,MAAM,gBAAgB;KA0FrB;IAlFC;QAPC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,GAAG;YACT,WAAW,EAAE,kBAAkB;YAC/B,GAAG,OAAO;SACX,CAAC;;kDACkB;IAQpB;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;YACX,WAAW,EAAE,6DAA6D;SAC3E,CAAC;;uDACe;IAQjB;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,CAAC;YACV,WAAW,EAAE,6DAA6D;SAC3E,CAAC;;oDACY;IAQd;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;YACX,WAAW,EAAE,sBAAsB;SACpC,CAAC;;mDACW;IAQb;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;YACX,WAAW,EAAE,wBAAwB;SACtC,CAAC;;wDACgB;IAQlB;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,KAAK;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,CAAC;YACV,WAAW,EAAE,sBAAsB;SACpC,CAAC;;kDACuB;IASzB;QAPC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,KAAK;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,CAAC;YACV,WAAW,EACT,+IAA+I;SAClJ,CAAC;;2DACmB;IAQrB;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,KAAK;YACd,WAAW,EAAE,4BAA4B;SAC1C,CAAC;;yDACkB;IAQpB;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,IAAI;YACb,WAAW,EAAE,4BAA4B;SAC1C,CAAC;;yDACkB;IAQpB;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,IAAI;YACb,WAAW,EAAE,4CAA4C;SAC1D,CAAC;;sDACkC;IAQpC;QANC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,CAAC;YACV,WAAW,EAAE,wCAAwC;SACtD,CAAC;;sDACkC;IAEtC,OAAO,IAAA,cAAK,EAAC,gBAAgB,CAAC,CAAA;AAChC,CAAC;AAhGD,4CAgGC;AAED,SAAgB,YAAY,CAC1B,GAAS,EACT,OAAwC;IAExC,MAAM,YAAY;KAOjB;IADC;QALC,IAAA,qBAAW,EAAC;YACX,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,GAAG;YACT,GAAG,OAAO;SACX,CAAC;;8CACc;IAElB,OAAO,IAAA,cAAK,EAAC,YAAY,CAAC,CAAA;AAC5B,CAAC;AAbD,oCAaC","sourcesContent":["import { mixin } from \"@nestjs/common\"\r\nimport { ApiProperty, ApiPropertyOptions } from \"@nestjs/swagger\"\r\nimport { ClassConstructor } from \"class-transformer\"\r\n\r\nexport function PaginateResponse<TDoc extends ClassConstructor<any>>(\r\n  Doc: TDoc,\r\n  options?: ApiPropertyOptions | undefined\r\n) {\r\n  class PaginateResponse {\r\n    @ApiProperty({\r\n      required: true,\r\n      isArray: true,\r\n      type: Doc,\r\n      description: 'The list of doc.',\r\n      ...options\r\n    })\r\n    docs: (typeof Doc)[]\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Number,\r\n      example: 10,\r\n      description: 'Total number of documents in collection that match a query.'\r\n    })\r\n    totalDocs: number\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Number,\r\n      example: 0,\r\n      description: ' Only if specified or default page/offset values were used.'\r\n    })\r\n    offset: number\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Number,\r\n      example: 10,\r\n      description: 'Limit that was used.'\r\n    })\r\n    limit: number\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Number,\r\n      example: 10,\r\n      description: 'Total number of pages.'\r\n    })\r\n    totalPages: number\r\n\r\n    @ApiProperty({\r\n      required: false,\r\n      type: Number,\r\n      example: 1,\r\n      description: 'Current page number.'\r\n    })\r\n    page?: number | undefined\r\n\r\n    @ApiProperty({\r\n      required: false,\r\n      type: Number,\r\n      example: 1,\r\n      description:\r\n        'The starting index/serial/chronological number of first document in current page. (Eg: if page=2 and limit=10, then pagingCounter will be 11)'\r\n    })\r\n    pagingCounter: number\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Boolean,\r\n      example: false,\r\n      description: 'Availability of prev page.'\r\n    })\r\n    hasPrevPage: boolean\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Boolean,\r\n      example: true,\r\n      description: 'Availability of next page.'\r\n    })\r\n    hasNextPage: boolean\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Boolean,\r\n      example: null,\r\n      description: 'Previous page number if available or NULL.'\r\n    })\r\n    prevPage?: number | null | undefined\r\n\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Boolean,\r\n      example: 2,\r\n      description: 'Next page number if available or NULL.'\r\n    })\r\n    nextPage?: number | null | undefined\r\n  }\r\n  return mixin(PaginateResponse)\r\n}\r\n\r\nexport function DataResponse<TDoc extends ClassConstructor<any>>(\r\n  Doc: TDoc,\r\n  options?: ApiPropertyOptions | undefined\r\n) {\r\n  class DataResponse {\r\n    @ApiProperty({\r\n      required: true,\r\n      type: Doc,\r\n      ...options\r\n    })\r\n    data: typeof Doc\r\n  }\r\n  return mixin(DataResponse)\r\n}"]}