{"version":3,"file":"auth.module.js","sourceRoot":"/","sources":["auth/auth.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA+C;AAC/C,0EAAwE;AACxE,+CAAiD;AACjD,8DAA2D;AAC3D,mFAAiF;AACjF,qCAAuC;AACvC,2CAA6C;AAC7C,4EAA0E;AAC1E,0DAAmE;AACnE,+CAAiD;AACjD,mEAAwE;AACxE,uEAAgE;AAChE,wDAAiD;AACjD,mFAA2E;AAC3E,yFAAmF;AACnF,yFAAmF;AACnF,gFAAgG;AAChG,sEAAmF;AACnF,qDAAqD;AACrD,kEAA6E;AAC7E,wDAAgE;AAChE,0EAAmE;AAsD5D,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAG,CAAA;AAAb,gCAAU;qBAAV,UAAU;IApDtB,IAAA,eAAM,GAAE;IACR,IAAA,eAAM,EAAC;QACN,OAAO,EAAE;YACP,yBAAc,CAAC,UAAU,CAAC;gBACxB,EAAE,IAAI,EAAE,6BAAS,CAAC,IAAI,EAAE,MAAM,EAAE,mCAAe,EAAE;gBACjD,EAAE,IAAI,EAAE,gBAAG,CAAC,IAAI,EAAE,MAAM,EAAE,sBAAS,EAAE;aACtC,CAAC;YACF,qBAAY;YACZ,yBAAc;YACd,eAAS;YACT,8BAAa;YACb,oCAAgB;YAChB,0BAAW;YACX,2CAAmB;YACnB,sCAAiB;SAClB;QACD,WAAW,EAAE,CAAC,+CAAqB,EAAE,qDAAwB,EAAE,qDAAwB,CAAC;QACxF,SAAS,EAAE;YACT;gBACE,OAAO,EAAE,2BAAY;gBACrB,QAAQ,EAAE,0BAAW;aACtB;YACD;gBACE,OAAO,EAAE,sCAAiB;gBAC1B,QAAQ,EAAE,qCAAgB;aAC3B;YACD;gBACE,OAAO,EAAE,4CAAoB;gBAC7B,QAAQ,EAAE,2CAAmB;aAC9B;YACD;gBACE,OAAO,EAAE,yBAAW;gBACpB,QAAQ,EAAE,wBAAU;aACrB;YACD;gBACE,OAAO,EAAE,+BAAc;gBACvB,QAAQ,EAAE,8BAAa;aACxB;YACD,uCAAiB;YACjB,yCAAkB;SACnB;QACD,OAAO,EAAE;YACP;gBACE,OAAO,EAAE,2BAAY;gBACrB,QAAQ,EAAE,0BAAW;aACtB;YACD;gBACE,OAAO,EAAE,sCAAiB;gBAC1B,QAAQ,EAAE,qCAAgB;aAC3B;SACF;KACF,CAAC;GACW,UAAU,CAAG","sourcesContent":["import { Global, Module } from '@nestjs/common'\r\nimport { JwtAccessStrategy } from '@auth/strategies/jwt-access.strategy'\r\nimport { PassportModule } from '@nestjs/passport'\r\nimport { LearnerModule } from '@src/learner/learner.module'\r\nimport { LearnerAuthController } from '@auth/controllers/learner.auth.controller'\r\nimport { JwtModule } from '@nestjs/jwt'\r\nimport { ConfigModule } from '@nestjs/config'\r\nimport { JwtRefreshStrategy } from '@auth/strategies/jwt-refresh.strategy'\r\nimport { AuthService, IAuthService } from './services/auth.service'\r\nimport { MongooseModule } from '@nestjs/mongoose'\r\nimport { UserToken, UserTokenSchema } from './schemas/user-token.schema'\r\nimport { InstructorModule } from '@instructor/instructor.module'\r\nimport { StaffModule } from '@staff/staff.module'\r\nimport { GardenManagerModule } from '@garden-manager/garden-manager.module'\r\nimport { InstructorAuthController } from './controllers/instructor.auth.controller'\r\nimport { ManagementAuthController } from './controllers/management.auth.controller'\r\nimport { IUserTokenRepository, UserTokenRepository } from './repositories/user-token.repository'\r\nimport { IUserTokenService, UserTokenService } from './services/user-token.service'\r\nimport { Otp, OtpSchema } from './schemas/otp.schema'\r\nimport { IOtpRepository, OtpRepository } from './repositories/otp.repository'\r\nimport { IOtpService, OtpService } from './services/otp.service'\r\nimport { RecruitmentModule } from '@recruitment/recruitment.module'\r\n\r\n@Global()\r\n@Module({\r\n  imports: [\r\n    MongooseModule.forFeature([\r\n      { name: UserToken.name, schema: UserTokenSchema },\r\n      { name: Otp.name, schema: OtpSchema }\r\n    ]),\r\n    ConfigModule,\r\n    PassportModule,\r\n    JwtModule,\r\n    LearnerModule,\r\n    InstructorModule,\r\n    StaffModule,\r\n    GardenManagerModule,\r\n    RecruitmentModule\r\n  ],\r\n  controllers: [LearnerAuthController, InstructorAuthController, ManagementAuthController],\r\n  providers: [\r\n    {\r\n      provide: IAuthService,\r\n      useClass: AuthService\r\n    },\r\n    {\r\n      provide: IUserTokenService,\r\n      useClass: UserTokenService\r\n    },\r\n    {\r\n      provide: IUserTokenRepository,\r\n      useClass: UserTokenRepository\r\n    },\r\n    {\r\n      provide: IOtpService,\r\n      useClass: OtpService\r\n    },\r\n    {\r\n      provide: IOtpRepository,\r\n      useClass: OtpRepository\r\n    },\r\n    JwtAccessStrategy,\r\n    JwtRefreshStrategy\r\n  ],\r\n  exports: [\r\n    {\r\n      provide: IAuthService,\r\n      useClass: AuthService\r\n    },\r\n    {\r\n      provide: IUserTokenService,\r\n      useClass: UserTokenService\r\n    }\r\n  ]\r\n})\r\nexport class AuthModule {}\r\n"]}